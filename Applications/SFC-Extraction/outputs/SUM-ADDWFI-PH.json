{
  "phaseName": "SUM-ADDWFI-PH",
  "runLogic": {
    "steps": [
      {
        "name": "S0000",
        "description": "Start",
        "actions": [
          {
            "name": "A010",
            "description": "Load weight target from Unit parameter (If solution prep)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\t('//#THISUNIT#/THISUNIT' = \"\"055MSS1500\"\" OR '//#THISUNIT#/THISUNIT' = \"\"055MSS2200\"\" OR\r\n\t '//#THISUNIT#/THISUNIT' = \"\"055MSS2300\"\" OR '//#THISUNIT#/THISUNIT' = \"\"055MSS2500\"\")\r\nTHEN\r\n\tIF\t'^/R_WGT.CV' = 0\r\n\tTHEN\r\n\t\t'^/R_WGT.CV' := '//#THISUNIT#/U_PRMPT_FTP.CV'\r\n\tENDIF;\r\nELSE\r\n\t'//#THISUNIT#/U_PRMPT_FTP.CV' := 0\r\nENDIF;",
            "confirmExpression": "'S0000/TIME.CV' > 3",
            "confirmTimeOut": "0",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "S0010",
        "description": "First Pass",
        "actions": [
          {
            "name": "A010",
            "description": "Set P_TASK_PTR (Task Pointer) to 1",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_TASK_PTR.CV' := 1",
            "confirmExpression": "'^/P_TASK_PTR.CV' = 1",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Reset ready to acquire transfer panel flag",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#THISUNIT#/OP002_VALUE.CV' := FALSE",
            "confirmExpression": "'//#THISUNIT#/OP002_VALUE.CV' = FALSE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Set Balance High and High-High alarm limit",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n\t('/THISUNIT.CV' = \"\"055MSS1500\"\" OR '/THISUNIT.CV' = \"\"055MSS2200\"\" OR '/THISUNIT.CV' = \"\"055MSS2300\"\" OR '/THISUNIT.CV' = \"\"055MSS2500\"\")\r\nTHEN\r\n\t'//#SUM_BAL#/AI1/HI_LIM.CV' := '/UP009_VALUE.CV';\r\n\t'//#SUM_BAL#/AI1/HI_HI_LIM.CV' := '/UP010_VALUE.CV';\r\nENDIF",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Set First Pass",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\n(*\r\n-------------------------------------------------------------------------------------\r\nSet First Pass Flag to True\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/P_FIRST_PASS.CV' := TRUE;\r\n\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "'S0010/A020/STATE.CV' = '$sfc_action_states:Complete' AND\r\n'S0010/A030/STATE.CV' = '$sfc_action_states:Complete'"
          }
        ]
      },
      {
        "name": "S0020",
        "description": "Acquire Equipment",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Acquire the Equipment Modules and Devices",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Acquire the Equipment Modules and Devices\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Acquire AGIT_EM (Agitator EM) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF ( '//#AGIT_EM#/OWNER_ID.CV' = \"\"(None)\"\") THEN \r\n'//#AGIT_EM#/OWNER_ID.CV' := '//#THISUNIT#/THISUNIT.CV';\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S0020/TIME.CV';",
            "confirmExpression": "('//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV') OR\r\n('/AGIT_EM.IGN' = TRUE)",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Acquire WFI_EM (WFI EM) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF ( '//#WFI_EM#/OWNER_ID.CV' = \"\"(None)\"\") THEN \r\n'//#WFI_EM#/OWNER_ID.CV' := '//#THISUNIT#/THISUNIT.CV';\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S0020/TIME.CV';",
            "confirmExpression": "('//#WFI_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV') OR\r\n('/WFI_EM.IGN' = TRUE)",
            "delayTime": "0"
          },
          {
            "name": "A040",
            "description": "Acquire WFI_VLV (WFI VLV) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF ( '//#WFI_VLV#/OWNER_ID.CV' = \"\"(None)\"\") THEN \r\n'//#WFI_VLV#/OWNER_ID.CV' := '//#THISUNIT#/THISUNIT.CV';\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S0020/TIME.CV';",
            "confirmExpression": "('//#WFI_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV') OR\r\n('/WFI_VLV.IGN' = TRUE)",
            "delayTime": "0"
          },
          {
            "name": "A050",
            "description": "Acquire DRN_VLV (DRN VLV) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF ( '//#DRN_VLV#/OWNER_ID.CV' = \"\"(None)\"\") THEN \r\n'//#DRN_VLV#/OWNER_ID.CV' := '//#THISUNIT#/THISUNIT.CV';\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S0020/TIME.CV';",
            "confirmExpression": "('//#DRN_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV') OR\r\n('/DRN_VLV.IGN' = TRUE)",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayedExpression": "('S0020/A010/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0020/A020/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0020/A030/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0020/A040/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0020/A050/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0030",
        "description": "Acquire Failure",
        "actions": [
          {
            "name": "A010",
            "description": "Prompt Operator: Acquire Failed",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Acquire Failed\"\";\r\n'^/P_MSG2.CV' := \"\"Devices Not Acquired: \"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:PROMPT';  \r\n\r\nCOUNT := 0;\r\nMAX_COUNT := 8;\r\n\r\nIF ( ( '//#AGIT_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV' ) AND ( COUNT < MAX_COUNT ) ) THEN\r\n    IF ( COUNT = 0 ) THEN\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' +  '//#THISUNIT#/AGIT_EM.CV';\r\n      ELSE\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\", \"\" + '//#THISUNIT#/AGIT_EM.CV';\r\n    ENDIF;\r\n    \r\n    COUNT := COUNT + 1;\r\nENDIF;\r\n\r\nIF ( ( '//#WFI_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV' ) AND ( COUNT < MAX_COUNT ) ) THEN\r\n    IF ( COUNT = 0 ) THEN\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' +  '//#THISUNIT#/WFI_EM.CV';\r\n      ELSE\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\", \"\" + '//#THISUNIT#/WFI_EM.CV';\r\n    ENDIF;\r\n    \r\n    COUNT := COUNT + 1;\r\nENDIF;\r\n\r\nIF ( ( '//#WFI_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV' ) AND ( COUNT < MAX_COUNT ) ) THEN\r\n    IF ( COUNT = 0 ) THEN\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' +  '//#THISUNIT#/WFI_VLV.CV';\r\n      ELSE\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\", \"\" + '//#THISUNIT#/WFI_VLV.CV';\r\n    ENDIF;\r\n    \r\n    COUNT := COUNT + 1;\r\nENDIF;\r\n\r\nIF ( ( '//#DRN_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV' ) AND ( COUNT < MAX_COUNT ) ) THEN\r\n    IF ( COUNT = 0 ) THEN\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' +  '//#THISUNIT#/DRN_VLV.CV';\r\n      ELSE\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\", \"\" + '//#THISUNIT#/DRN_VLV.CV';\r\n    ENDIF;\r\n    \r\n    COUNT := COUNT + 1;\r\nENDIF;\r\n\r\n\r\n(*\r\n=================================================================================\r\nBelow: Prompt Message to Operator\r\n=================================================================================\r\n*)\r\n\r\n'^/FAIL_MONITOR/OAR/VERIFY.CV' := '_OAR_VERIFY:None';\r\n'^/FAIL_MONITOR/OAR/ACTION.CV' := '_OAR_ACTION:Ask Again';       \r\n'^/FAIL_MONITOR/OAR/OAR_STATUS.CV' := '_OAR_STATUS:ACTIVE';\r\n'^/FAIL_MONITOR/OAR/DEFAULT.CV' := 0;\r\n'^/FAIL_MONITOR/OAR/TYPE.CV' := '_OAR_TYPE_BOI:OK Input';\r\n'^/FAIL_MONITOR/OAR/TIME.CV' := 0;",
            "confirmExpression": "'^/FAIL_MONITOR/OAR/TYPE.CV' = '_OAR_TYPE_BOI:None'",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayedExpression": "('S0030/A010/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0040",
        "description": "Reset From Hold",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message Resetting Hold Requests",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Resetting Hold Requests\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Reset Hold Request for AGIT_EM (Agitator EM) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n    '//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' OR\r\n    '//#AGIT_EM#/OWNER_ID.CV' = \"\"(None)\"\"\r\nTHEN\r\n    '//#AGIT_EM#/HOLD_REQ.CV' := FALSE;\r\nENDIF;",
            "confirmExpression": "((( '//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV')  OR \r\n( '//#AGIT_EM#/OWNER_ID.CV' = \"\"(None)\"\" )) AND\r\n('//#AGIT_EM#/HOLD_REQ.CV' = FALSE)) OR\r\n('/AGIT_EM.IGN' = TRUE) OR \r\n('//#AGIT_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Reset Hold Request for WFI_EM (WFI EM) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n    '//#WFI_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' OR\r\n    '//#WFI_EM#/OWNER_ID.CV' = \"\"(None)\"\"\r\nTHEN\r\n    '//#WFI_EM#/HOLD_REQ.CV' := FALSE;\r\nENDIF;",
            "confirmExpression": "((( '//#WFI_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV')  OR \r\n( '//#WFI_EM#/OWNER_ID.CV' = \"\"(None)\"\" )) AND\r\n('//#WFI_EM#/HOLD_REQ.CV' = FALSE)) OR\r\n('/WFI_EM.IGN' = TRUE) OR \r\n('//#WFI_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A040",
            "description": "Reset Hold Request for WFI_VLV (WFI VLV) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n    '//#WFI_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' OR\r\n    '//#WFI_VLV#/OWNER_ID.CV' = \"\"(None)\"\"\r\nTHEN\r\n    '//#WFI_VLV#/HOLD_REQ.CV' := FALSE;\r\nENDIF;",
            "confirmExpression": "((( '//#WFI_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV')  OR \r\n( '//#WFI_VLV#/OWNER_ID.CV' = \"\"(None)\"\" )) AND\r\n('//#WFI_VLV#/HOLD_REQ.CV' = FALSE)) OR\r\n('/WFI_VLV.IGN' = TRUE) OR \r\n('//#WFI_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A050",
            "description": "Reset Hold Request for DRN_VLV (DRN VLV) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n    '//#DRN_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' OR\r\n    '//#DRN_VLV#/OWNER_ID.CV' = \"\"(None)\"\"\r\nTHEN\r\n    '//#DRN_VLV#/HOLD_REQ.CV' := FALSE;\r\nENDIF;",
            "confirmExpression": "((( '//#DRN_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV')  OR \r\n( '//#DRN_VLV#/OWNER_ID.CV' = \"\"(None)\"\" )) AND\r\n('//#DRN_VLV#/HOLD_REQ.CV' = FALSE)) OR\r\n('/DRN_VLV.IGN' = TRUE) OR \r\n('//#DRN_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Set Phase Held Flag to False",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'/+/P_PHASE_HELD.CV' := FALSE;",
            "confirmExpression": "'/+/P_PHASE_HELD.CV' = FALSE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "S0050",
        "description": "Enable HM & SM",
        "actions": [
          {
            "name": "A010",
            "description": "Enable Hold and Sentinel Monitors",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Enable Hold and Sentinel Monitors\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Enable SM01 (Agitator EM)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/FAIL_MONITOR/SM_01.CV' := TRUE;",
            "confirmExpression": "'^/FAIL_MONITOR/SM_01.CV' = TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Enable SM02 (Floor Scale EM)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/FAIL_MONITOR/SM_02.CV' := TRUE;",
            "confirmExpression": "'^/FAIL_MONITOR/SM_02.CV' = TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A040",
            "description": "Enable SM03 (WFI EM)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/FAIL_MONITOR/SM_03.CV' := TRUE;",
            "confirmExpression": "'^/FAIL_MONITOR/SM_03.CV' = TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A050",
            "description": "Enable SM03 (WFI VLV)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/FAIL_MONITOR/SM_04.CV' := TRUE;",
            "confirmExpression": "'^/FAIL_MONITOR/SM_04.CV' = TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A060",
            "description": "Enable SM05 (DRN VLV)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/FAIL_MONITOR/SM_05.CV' := TRUE;",
            "confirmExpression": "'^/FAIL_MONITOR/SM_05.CV' = TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A070",
            "description": "Enable HM01-HM03 & HM05-06",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/FAIL_MONITOR/HM_01.CV' := TRUE;\r\n'^/FAIL_MONITOR/HM_02.CV' := TRUE;\r\n'^/FAIL_MONITOR/HM_03.CV' := TRUE;\r\n'^/FAIL_MONITOR/HM_04.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_05.CV' := TRUE;\r\n'^/FAIL_MONITOR/HM_06.CV' := TRUE;",
            "confirmExpression": "'^/FAIL_MONITOR/HM_01.CV' = TRUE AND \r\n'^/FAIL_MONITOR/HM_02.CV' = TRUE AND \r\n'^/FAIL_MONITOR/HM_03.CV' = TRUE AND \r\n'^/FAIL_MONITOR/HM_04.CV' = FALSE AND \r\n'^/FAIL_MONITOR/HM_05.CV' = TRUE AND \r\n'^/FAIL_MONITOR/HM_06.CV' = TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayedExpression": "('S0050/A010/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0050/A020/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0050/A030/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0050/A040/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0050/A050/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0050/A050/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0050/A060/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0060",
        "description": "Entry and/or Re-entry",
        "actions": [
          {
            "name": "A010",
            "description": "Entry",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\n\r\n(*\r\n-------------------------------------------------------------------------------------\r\nStart Inline Wait -- SM are Evaluated Prior \r\nto Proceeding\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/P_TIME_SAVE.CV' := 'S0060/TIME.CV';\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "confirmExpression": "('S0060/TIME.CV' >= ('^/P_TIME_SAVE.CV' + 1))",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Continue Next Task",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_ACT_IDX.CV' := 0;\r\n'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0060/A010/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0100",
        "description": "Enable Alarms",
        "actions": [
          {
            "name": "A010",
            "description": "Enable AGIT_SUM (Agitator Sensor) High Alarm",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#AGIT_SUM#/HI_ALM.ENAB' := TRUE;",
            "confirmExpression": "('//#AGIT_SUM#/HI_ALM.ENAB' = TRUE) OR\r\n('/AGIT_SUM.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Enable SUM_TEMP (Temperature Sensor) High Alarm",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#SUM_TEMP#/HI_ALM.ENAB' := TRUE;",
            "confirmExpression": "('//#SUM_TEMP#/HI_ALM.ENAB' = TRUE) OR\r\n('/SUM_TEMP.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Enable SUM_PRES (Pressure Sensor) High High Alarm",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#SUM_PRES#/HI_HI_ALM.ENAB' := TRUE;",
            "confirmExpression": "('//#SUM_PRES#/HI_HI_ALM.ENAB' = TRUE) OR\r\n('/SUM_PRES.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A040",
            "description": "Disable SUM_BAL (Scale) High High Alarm",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#SUM_BAL#/HI_HI_ALM.ENAB' := FALSE;",
            "confirmExpression": "('//#SUM_BAL#/HI_HI_ALM.ENAB' = FALSE) OR\r\n('/SUM_BAL.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010-A040 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0100/A010/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0100/A020/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0100/A030/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0100/A040/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0120",
        "description": "Task Pointer",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Set Task Pointer",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Set Task Pointer\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Set P_TASK_PTR (Task Pointer) to 2 ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_TASK_PTR.CV' := 2",
            "confirmExpression": "'^/P_TASK_PTR.CV' = 2",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0120/A010/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0120/A020/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0210A",
        "description": "Operator Message",
        "actions": [
          {
            "name": "A010",
            "description": "Prompt Reset",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/FAIL_MONITOR/OAR/TYPE.CV' := '_OAR_TYPE_BOI:Reset';",
            "confirmExpression": "('^/FAIL_MONITOR/OAR/TYPE.CV' = '_OAR_TYPE_BOI:None')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Prompt Operator: Confirm Ready to Receive",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Operator Prompt\"\";\r\n\r\n'^/P_MSG2.CV' := \"\"Confirm when ready to send weight tare command.\"\" ;\r\n\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:PROMPT';  \r\n\r\n'^/FAIL_MONITOR/OAR/VERIFY.CV' := '_OAR_VERIFY:None';\r\n'^/FAIL_MONITOR/OAR/ACTION.CV' := '_OAR_ACTION:Ask Again';       \r\n'^/FAIL_MONITOR/OAR/OAR_STATUS.CV' := '_OAR_STATUS:ACTIVE';\r\n'^/FAIL_MONITOR/OAR/DEFAULT.CV' := 0;\r\n'^/FAIL_MONITOR/OAR/TYPE.CV' := '_OAR_TYPE_BOI:OK Input';\r\n'^/FAIL_MONITOR/OAR/TIME.CV' := 0;",
            "confirmExpression": "('^/FAIL_MONITOR/OAR/TYPE.CV' = '_OAR_TYPE_BOI:None')",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0210A/A010/STATE.CV' = '$sfc_action_states:Complete')"
          },
          {
            "name": "EXIT",
            "description": "Clear Message",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\".\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0210A/A020/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0210B",
        "description": "Operator Message",
        "actions": [
          {
            "name": "A010",
            "description": "Prompt Operator: Confirm Ready to Receive",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Operator Prompt: Manual Tare Required\"\";\r\n\r\n'^/P_MSG2.CV' := \"\"Push tare button on weight indicator. Confirm when complete.\"\" ;\r\n\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:PROMPT';  \r\n\r\n'^/FAIL_MONITOR/OAR/VERIFY.CV' := '_OAR_VERIFY:None';\r\n'^/FAIL_MONITOR/OAR/ACTION.CV' := '_OAR_ACTION:Ask Again';       \r\n'^/FAIL_MONITOR/OAR/OAR_STATUS.CV' := '_OAR_STATUS:ACTIVE';\r\n'^/FAIL_MONITOR/OAR/DEFAULT.CV' := 0;\r\n'^/FAIL_MONITOR/OAR/TYPE.CV' := '_OAR_TYPE_BOI:OK Input';\r\n'^/FAIL_MONITOR/OAR/TIME.CV' := 0;",
            "confirmExpression": "('^/FAIL_MONITOR/OAR/TYPE.CV' = '_OAR_TYPE_BOI:None')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\".\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0210B/A010/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0220A",
        "description": "Tare Scale",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Recording Initial Weight",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Sending tare command\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Send Zero Command if Scale weight less than zero.",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF '//#SUM_BAL#/NET_WEIGHT.CV' < 0 AND '/SUM_BAL.IGN' = FALSE THEN\r\n\t'//#SUM_BAL#/TP04' := TRUE;\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S0220A/TIME.CV';",
            "confirmExpression": "(('//#SUM_BAL#/CMD_COMPLETE.CV' = TRUE) AND ('S0220A/TIME.CV' >= '^/P_TIME_SAVE.CV' +3)) OR \r\n('/SUM_BAL.IGN' = TRUE)",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Set SUM_BAL Tare",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF '//#SUM_BAL#/NET_WEIGHT.CV' > 0 AND '/SUM_BAL.IGN' = FALSE THEN\r\n\t'//#SUM_BAL_TARE#'  := TRUE;\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S0220A/TIME.CV';",
            "confirmExpression": "(('//#SUM_BAL_TARE#' = FALSE) AND ('//#SUM_BAL#/CMD_COMPLETE.CV' = TRUE) AND ('S0220A/TIME.CV' >= '^/P_TIME_SAVE.CV' +3)) OR \r\n('/SUM_BAL.IGN' = TRUE)",
            "confirmTimeOut": "0",
            "delayedExpression": "'S0220A/A020/STATE.CV' = '$sfc_action_states:Complete'"
          }
        ]
      },
      {
        "name": "S0220B",
        "description": "Store Tare Weight",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Recording Initial Weight",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Recording tare weight\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Record Tare Weight",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#AGIT_EM#/TARE_WGT.CV' := '//#SUM_WGT_PATH#';",
            "confirmExpression": "'//#AGIT_EM#/TARE_WGT.AWST' = 0",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\".\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0220B/A020/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0230",
        "description": "Report Step",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Recording Step Number and Description",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Recording Step Number and Description\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Set RPT_STEP_NUM (Step Number) = P_TASK_PTR (Task Pointer)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/RPT_STEP_NUM.CV'  :=  '^/P_TASK_PTR.CV'",
            "confirmExpression": "'^/RPT_STEP_NUM.CV'  =  '^/P_TASK_PTR.CV'",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Set RPT_STEP_DESC (Step Description) = Initialization Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/RPT_STEP_DESC.CV'  :=  \"\"Initialization Complete\"\";",
            "confirmExpression": "'^/RPT_STEP_DESC.CV'  =  \"\"Initialization Complete\"\"",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A040",
            "description": "Record RPT_STEP_DESC (Step Description) and RPT_STEP_NUM (Step Number) Batch Report Values",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/REQDATA1.CV' := 1;\r\n'^/REQUEST.CV' := 2102;",
            "confirmExpression": "'^/REQUEST.CV' = 0",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0230/A020/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0230/A030/STATE.CV' = '$sfc_action_states:Complete') AND \r\n'^/REQUEST.CV' = 0 AND '^/REQDATA1.CV' = 0"
          },
          {
            "name": "A050",
            "description": "Clear REQDATA1 Parameter",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/REQDATA1.CV' := 0;",
            "confirmExpression": "'^/REQDATA1.CV' = 0;",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0230/A040/STATE.CV' = '$sfc_action_states:Complete')"
          },
          {
            "name": "EXIT",
            "description": "Clear Message ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayedExpression": "('S0230/A050/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0240",
        "description": "Task Pointer",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Set Task Pointer",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Set Task Pointer\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Set Task Pointer = 3 or 4",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF '^/P_TARE.CV' = True\r\nTHEN '^/P_TASK_PTR.CV' := 3;\r\nELSE '^/P_TASK_PTR.CV' := 4;\r\nENDIF;",
            "confirmExpression": "'^/P_TASK_PTR.CV' = 3 OR '^/P_TASK_PTR.CV' = 4;",
            "confirmTimeOut": "0",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "S0300",
        "description": "Store Initial Weight",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Storing the Initial Net Weight",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Storing the Initial Net Weight\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Set P_WT_INIT (Initial Net Weight) = SUM_WGT/NET_WEIGHT (Premix Bench Weight Net)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_WT_INIT.CV' := '//#SUM_WGT_PATH#'",
            "confirmExpression": "'^/P_WT_INIT.AWST' = 0",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Set Task Pointer = 6 After A020 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_TASK_PTR.CV' := 6",
            "confirmExpression": "'^/P_TASK_PTR.CV' = 6",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0300/A020/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0310",
        "description": "Close Drain Valve",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Setting Premix Inlet EM to WFI Addition, Setting WFI Flow Controller to RCAS at Setpoint of R_WFI_FLOW",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Setting path for WFI Addition\"\";\r\n '^/P_MSG2.CV' := \"\"Setting WFI valve to CAS \"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Set DRN_VLV (Drain Valve ) Mode to CAS",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#DRN_VLV#/REQ_MODE.TARGET' := CAS;",
            "confirmExpression": "('//#DRN_VLV#/MODE.ACTUAL' = CAS) OR\r\n('//#DRN_VLV#/MODE.ACTUAL' = LO) OR\r\n('/DRN_VLV.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Open DRN_VLV(WFI Addition Valve) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#DRN_VLV#/REQ_SP.CV' := '_EDC_VLV_SP:CLOSE';",
            "confirmExpression": "('//#DRN_VLV#/PV_D.CV' = '_EDC_VLV_PV:CLOSED')OR\r\n('/DRN_VLV.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0310/A020/STATE.CV' = '$sfc_action_states:Complete')"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010-A030 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0310/A010/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0310/A020/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0310/A030/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0315",
        "description": "Enable Agitation",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Enable Agitation Control at Speed Setpoint",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Enabling Agitation Control at Speed Setpoint\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Set AGIT_PREMIX_EM (Premix Tank Agitator EM) OP003_VALUE (Speed SP) to R_AGIT_MIX_SP (Agitator Mixing Speed Setpoint)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#AGIT_EM#/OP003_VALUE.CV' := '^/R_AGIT_MIX_SP.CV';",
            "confirmExpression": "('//#AGIT_EM#/OP003_VALUE.CV' = '^/R_AGIT_MIX_SP.CV') OR\r\n('/AGIT_EM.IGN' = TRUE)",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Set AGIT_EM (Agitator EM) to Enable After A020",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#AGIT_EM#/A_COMMAND.CV' := 'S_EM_AGIT_CTRL:Weight Control';",
            "confirmExpression": "('//#AGIT_EM#/A_PV.CV' = 'S_EM_AGIT_CTRL:Weight Control') OR\r\n('/AGIT_EM.IGN' = TRUE)",
            "confirmTimeOut": "0",
            "delayedExpression": "'S0315/A020/STATE.CV' = '$sfc_action_states:Complete';"
          },
          {
            "name": "A040",
            "description": "Enable High High Weight Alarm",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#SUM_BAL#/HI_HI_ALM.ENAB' := TRUE;",
            "confirmExpression": "('//#SUM_BAL#/HI_HI_ALM.ENAB' = TRUE) OR\r\n('/SUM_BAL.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0315/A030/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0320",
        "description": "Open WFI Valve",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Setting Premix Inlet EM to WFI Addition, Setting WFI Flow Controller to RCAS at Setpoint of R_WFI_FLOW",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Setting path for WFI Addition\"\";\r\n '^/P_MSG2.CV' := \"\"Setting WFI valve to CAS \"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Set WFI_VLV(WFI Addition Valve ) Mode to CAS",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#WFI_VLV#/REQ_MODE.TARGET' := CAS;",
            "confirmExpression": "('//#WFI_VLV#/MODE.ACTUAL' = CAS) OR\r\n('//#WFI_VLV#/MODE.ACTUAL' = LO) OR\r\n('/WFI_VLV.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Open WFI_VLV(WFI Addition Valve) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#WFI_VLV#/REQ_SP.CV' := '_EDC_VLV_SP:OPEN';",
            "confirmExpression": "('//#WFI_VLV#/PV_D.CV' = '_EDC_VLV_PV:OPEN')OR\r\n('/WFI_VLV.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0320/A020/STATE.CV' = '$sfc_action_states:Complete')"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010-A030 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayedExpression": "('S0320/A010/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0320/A020/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0320/A030/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0330",
        "description": "Request WFI from EM",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Setting Premix Inlet EM to WFI Addition, Setting WFI Flow Controller to RCAS at Setpoint of R_WFI_FLOW",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Setting path for WFI Addition\"\";\r\n '^/P_MSG2.CV' := '//#WFI_EM#/MY_TAG.CV' + \"\" \"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Plavce the request on WFI_EM (WFI EM Request)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#WFI_EM#/TP004_VALUE' := 'S-EM-WFI-RQST:WFI Request';\r\n\r\n(*\r\n=====================================================================================\r\nEnable WFI EM Hold Monitor\r\n=====================================================================================\r\n*)\r\n\r\n'^/FAIL_MONITOR/HM_06.CV' := TRUE;\r\n(*\r\n=====================================================================================\r\nCheck for WFI POU disabled / inhibited / in use\r\n=====================================================================================\r\n*)\r\nIF  '//#WFI_EM#/TP003_VALUE.CV' = 'S_EM-WFI-AVAIL:WFI Disabled'\r\nTHEN\r\n\t'^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\" WFI POU Disabled.\"\"\r\nELSE\r\n\tIF  '//#WFI_EM#/TP003_VALUE.CV' = 'S_EM-WFI-AVAIL:WFI Inhibited'\r\n\tTHEN\r\n\t\t'^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\" WFI POU Inhibited.\"\"\r\n\tELSE\r\n\t\tIF  '//#WFI_EM#/TP003_VALUE.CV' = 'S_EM-WFI-AVAIL:WFI in use'\r\n\t\tTHEN\r\n\t\t\t'^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\" WFI POU in use.\"\"\r\n\t\tENDIF;\r\n\tENDIF;\r\nENDIF;",
            "confirmExpression": "'//#WFI_EM#/TP003_VALUE' = 'S-EM-WFI-AVAIL:WFI Available'",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010-A020 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayedExpression": "('S0330/A010/STATE.CV' = '$sfc_action_states:Complete') AND \r\n('S0330/A020/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0340",
        "description": "Operator Message",
        "actions": [
          {
            "name": "A010",
            "description": "Prompt Operator: Confirm when addition of WFI s complete.",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"WFI Addition in Progress\"\";\r\n'^/P_MSG2.CV' := \"\"Confirm when WFI addition is complete.\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:PROMPT';  \r\n\r\n'^/FAIL_MONITOR/OAR/VERIFY.CV' := '_OAR_VERIFY:None';\r\n'^/FAIL_MONITOR/OAR/ACTION.CV' := '_OAR_ACTION:Ask Again';       \r\n'^/FAIL_MONITOR/OAR/OAR_STATUS.CV' := '_OAR_STATUS:ACTIVE';\r\n'^/FAIL_MONITOR/OAR/DEFAULT.CV' := 0;\r\n'^/FAIL_MONITOR/OAR/TYPE.CV' := '_OAR_TYPE_BOI:OK Input';\r\n'^/FAIL_MONITOR/OAR/TIME.CV' := 0;",
            "confirmExpression": "('^/FAIL_MONITOR/OAR/TYPE.CV' = '_OAR_TYPE_BOI:None')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0340/A010/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0350",
        "description": "Wait Tank Weight",
        "actions": [
          {
            "name": "NS0010",
            "description": "Set Message: Waiting for the Net Addition Weight to be Less than the Initial Weight Minus Addition Weight",
            "actionType": "ASSIGN",
            "qualifier": "N",
            "expression": "'^/P_MSG1.CV' := \"\"Adding WFI to Mix Station\"\";\r\n\r\nTARGET := ('^/R_WGT.CV' * '^/R_WGT_FACTOR.CV');\r\nACTUAL := '//#SUM_WGT_PATH#';\r\nDECIMAL := 2.0;\r\nPOWER := EXPT(10,DECIMAL);\r\nCURRENT :=((ROUND(ACTUAL * POWER))/(POWER)); \r\n\r\n\r\n'^/P_MSG2.CV' := \"\"WFI Addition in progress. Batch size: \"\" + '^/R_WGT.CV' + \"\" kg. Target: \"\" + TARGET + \"\" kg. Actual: \"\" + CURRENT + \"\" kg.\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';"
          }
        ]
      },
      {
        "name": "S0360",
        "description": "Stop WFI Request",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Setting Premix Inlet EM to WFI Addition, Setting WFI Flow Controller to RCAS at Setpoint of R_WFI_FLOW",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Stopping Request from POU\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Place the request on WFI_EM (WFI EM Request)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#WFI_EM#/TP004_VALUE' := 'S-EM-WFI-RQST:WFI Stop';\r\n\r\n(*\r\n=====================================================================================\r\nDisable WFI EM Hold Monitor\r\n=====================================================================================\r\n*)\r\n\r\n'^/FAIL_MONITOR/HM_06.CV' := FALSE;",
            "confirmExpression": "'//#WFI_EM#/PV_D' = \"\"WFI Stop\"\"",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010-A020 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayedExpression": "('S0360/A010/STATE.CV' = '$sfc_action_states:Complete') AND \r\n('S0360/A020/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0370",
        "description": "Report Weight Added",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Storing the Weight Added",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Storing the Weight Added\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Set RPT_WT_ADD (Weight Added) = P_WT_INIT (Initial Net Weight) -  SUM_WGT/NET_WEIGHT (Premix Bench Weight Net)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/RPT_WFI_ADDED.CV' :=  '//#SUM_WGT_PATH#' - '^/P_WT_INIT.CV'",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayedExpression": "('S0370/A020/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0380",
        "description": "Weight Check",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Verify Weight Added",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Verifying the Weight Added\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Set P_TASK_PTR (Task Pointer) Based on Weight Added",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\t('^/RPT_WFI_ADDED.CV' < (('^/R_WGT.CV' * '^/R_WGT_FACTOR.CV' - '^/P_WT_INIT.CV') - '^/R_WGT_LO_LIM.CV')) OR\r\n \t('^/RPT_WFI_ADDED.CV' > (('^/R_WGT.CV' * '^/R_WGT_FACTOR.CV' - '^/P_WT_INIT.CV') + '^/R_WGT_HI_LIM.CV'))\r\nTHEN\r\n  '^/P_TASK_PTR.CV' := 9;\r\nELSE\r\n  '^/P_TASK_PTR.CV' := 8;\r\nENDIF;",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "S0400",
        "description": "Operator Message",
        "actions": [
          {
            "name": "A010",
            "description": "Prompt Operator: WEIGHT IS OUT OF RANGE and manual operations are complete Per SOP. Acknowledge Yes when complete.",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Weight Added \"\" + '^/RPT_WFI_ADDED.CV' + \"\"kg is NOT in range \"\" + '^/R_WGT_LO_LIM.CV' + \"\" to \"\" + '^/R_WGT_HI_LIM.CV' + \"\"kg.\"\";\r\n'^/P_MSG2.CV' := \"\"Supervisor acknowledge when complete.\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:PROMPT';  \r\n\r\n'^/FAIL_MONITOR/OAR/VERIFY.CV' := '_OAR_VERIFY:Verifier';\r\n'^/FAIL_MONITOR/OAR/ACTION.CV' := '_OAR_ACTION:Ask Again';       \r\n'^/FAIL_MONITOR/OAR/OAR_STATUS.CV' := '_OAR_STATUS:ACTIVE';\r\n'^/FAIL_MONITOR/OAR/DEFAULT.CV' := 0;\r\n'^/FAIL_MONITOR/OAR/TYPE.CV' := '_OAR_TYPE_BOI:OK Input';\r\n'^/FAIL_MONITOR/OAR/TIME.CV' := 0;",
            "confirmExpression": "('^/FAIL_MONITOR/OAR/TYPE.CV' = '_OAR_TYPE_BOI:None')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayedExpression": "('S0400/A010/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S0410",
        "description": "Report Step",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Recording Step Number and Description",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Recording Step Number and Description\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Set RPT_STEP_NUM (Step Number) = P_TASK_PTR (Task Pointer)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/RPT_STEP_NUM.CV' := '^/P_TASK_PTR.CV'",
            "confirmExpression": "'^/RPT_STEP_NUM.CV'  =  '^/P_TASK_PTR.CV'",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Set RPT_STEP_DESC (Step Description) = WFI Addition Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/RPT_STEP_DESC.CV'  :=  \"\"WFI Addition Complete\"\";",
            "confirmExpression": "'^/RPT_STEP_DESC.CV'  =  \"\"WFI Addition Complete\"\";",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A040",
            "description": "Record RPT_STEP_DESC (Step Description) and RPT_STEP_NUM (Step Number) Batch Report Values",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/REQDATA1.CV' := 1;\r\n'^/REQUEST.CV' := 2102;",
            "confirmExpression": "'^/REQUEST.CV' = 0",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0410/A020/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S0410/A030/STATE.CV' = '$sfc_action_states:Complete') AND \r\n'^/REQUEST.CV' = 0 AND '^/REQDATA1.CV' = 0"
          },
          {
            "name": "A050",
            "description": "Clear REQDATA1 Parameter",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/REQDATA1.CV' := 0;",
            "confirmExpression": "'^/REQDATA1.CV' = 0;",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0410/A040/STATE.CV' = '$sfc_action_states:Complete')"
          },
          {
            "name": "EXIT",
            "description": "Set P_TASK_PTR to 99 After A010-A040 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_TASK_PTR.CV' := 99",
            "confirmExpression": "'^/P_TASK_PTR.CV' = 99",
            "confirmTimeOut": "0",
            "delayedExpression": "('S0410/A050/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S9900",
        "description": "Task99",
        "actions": [
          {
            "name": "A010",
            "description": "Display Message",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_ACT_IDX.CV' := '^/P_ACT_IDX.CV' + 1;\r\n'^/P_MSG1.CV' := \"\"Complete Task\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Continue Next Task",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_ACT_IDX.CV' := 0;\r\n'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\n\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S9900/A010/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S9910",
        "description": "Close WFI Valve",
        "actions": [
          {
            "name": "A010",
            "description": "Close WFI Addition Valve",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Closing WFI Valve\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Close WFI_VLV(WFI Addition Valve) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#WFI_VLV#/REQ_SP.CV' := '_EDC_VLV_SP:CLOSE';",
            "confirmExpression": "('//#WFI_VLV#/PV_D.CV' = '_EDC_VLV_PV:CLOSED')OR\r\n('/WFI_VLV.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010-A030 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayedExpression": "('S9910/A010/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S9910/A020/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S9920",
        "description": "Release Devices",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: Releasing Equipment Modules and Devices",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Releasing Equipment Modules and Devices\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Disable HM01 (Equipment Modules Ownership Lost)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/FAIL_MONITOR/HM_01.CV' := FALSE;",
            "confirmExpression": "'^/FAIL_MONITOR/HM_01.CV' = FALSE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Release AGIT_EM (Agitator EM) After A020",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n '//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n '//#AGIT_EM#/OWNER_ID.CV' := \"\"(None)\"\"\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S9920/TIME.CV';",
            "confirmExpression": "('//#AGIT_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')OR\r\n('/AGIT_EM.IGN' = TRUE);",
            "delayedExpression": "('S9920/A020/STATE.CV' = '$sfc_action_states:Complete')"
          },
          {
            "name": "A040",
            "description": "Release WFI_EM (WFI EM) After A020",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n '//#WFI_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n '//#WFI_EM#/OWNER_ID.CV' := \"\"(None)\"\"\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S9920/TIME.CV'",
            "confirmExpression": "('//#WFI_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')OR\r\n('/WFI_EM.IGN' = TRUE);",
            "delayedExpression": "('S9920/A020/STATE.CV' = '$sfc_action_states:Complete')"
          },
          {
            "name": "A050",
            "description": "Release DRN_VLV (WFI VLV)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n '//#DRN_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n '//#DRN_VLV#/OWNER_ID.CV' := \"\"(None)\"\"\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S9920/TIME.CV'",
            "confirmExpression": "('//#DRN_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')OR\r\n('/DRN_VLV.IGN' = TRUE);",
            "delayedExpression": "('S9920/A020/STATE.CV' = '$sfc_action_states:Complete')"
          },
          {
            "name": "A060",
            "description": "Release WFI_VLV (WFI VLV)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n '//#WFI_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n '//#WFI_VLV#/OWNER_ID.CV' := \"\"(None)\"\"\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S9920/TIME.CV'",
            "confirmExpression": "('//#WFI_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')OR\r\n('/WFI_VLV.IGN' = TRUE);",
            "delayedExpression": "('S9920/A020/STATE.CV' = '$sfc_action_states:Complete')"
          },
          {
            "name": "EXIT",
            "description": "Set P_TASK_PTR (Task Pointer) to 99 After A010-A060 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_TASK_PTR.CV' := 99",
            "confirmExpression": "'^/P_TASK_PTR.CV' = 99",
            "confirmTimeOut": "0",
            "delayedExpression": "('S9920/A010/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S9920/A020/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S9920/A030/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S9920/A040/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S9920/A050/STATE.CV' = '$sfc_action_states:Complete') AND\r\n('S9920/A060/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S9930",
        "description": "Release Failure",
        "actions": [
          {
            "name": "A010",
            "description": "Prompt Operator: Release Failed",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Release Failed\"\";\r\n'^/P_MSG2.CV' := \"\"Devices Not Released: \"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:PROMPT';  \r\n\r\nCOUNT := 0;\r\nMAX_COUNT := 8;\r\n\r\nIF ( ( '//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' ) AND ( COUNT < MAX_COUNT ) ) THEN\r\n    IF ( COUNT = 0 ) THEN\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' +  '//#THISUNIT#/AGIT_EM.CV';\r\n      ELSE\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\", \"\" + '//#THISUNIT#/AGIT_EM.CV';\r\n    ENDIF;\r\n    \r\n    COUNT := COUNT + 1;\r\nENDIF;\r\n\r\nIF ( ( '//#WFI_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' ) AND ( COUNT < MAX_COUNT ) ) THEN\r\n    IF ( COUNT = 0 ) THEN\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' +  '//#THISUNIT#/WFI_EM.CV';\r\n      ELSE\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\", \"\" + '//#THISUNIT#/WFI_EM.CV';\r\n    ENDIF;\r\n    \r\n    COUNT := COUNT + 1;\r\nENDIF;\r\n\r\nIF ( ( '//#WFI_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' ) AND ( COUNT < MAX_COUNT ) ) THEN\r\n    IF ( COUNT = 0 ) THEN\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' +  '//#THISUNIT#/WFI_VLV.CV';\r\n      ELSE\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\", \"\" + '//#THISUNIT#/WFI_VLV.CV';\r\n    ENDIF;\r\n    \r\n    COUNT := COUNT + 1;\r\nENDIF;\r\n\r\nIF ( ( '//#DRN_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' ) AND ( COUNT < MAX_COUNT ) ) THEN\r\n    IF ( COUNT = 0 ) THEN\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' +  '//#THISUNIT#/DRN_VLV.CV';\r\n      ELSE\r\n        '^/P_MSG2.CV' := '^/P_MSG2.CV' + \"\", \"\" + '//#THISUNIT#/DRN_VLV.CV';\r\n    ENDIF;\r\n    \r\n    COUNT := COUNT + 1;\r\nENDIF;\r\n(*\r\n=================================================================================\r\nBelow: Prompt Message to Operator\r\n=================================================================================\r\n*)\r\n\r\n'^/FAIL_MONITOR/OAR/VERIFY.CV' := '_OAR_VERIFY:None';\r\n'^/FAIL_MONITOR/OAR/ACTION.CV' := '_OAR_ACTION:Ask Again';       \r\n'^/FAIL_MONITOR/OAR/OAR_STATUS.CV' := '_OAR_STATUS:ACTIVE';\r\n'^/FAIL_MONITOR/OAR/DEFAULT.CV' := 0;\r\n'^/FAIL_MONITOR/OAR/TYPE.CV' := '_OAR_TYPE_BOI:OK Input';\r\n'^/FAIL_MONITOR/OAR/TIME.CV' := 0;",
            "confirmExpression": "'^/FAIL_MONITOR/OAR/TYPE.CV' = '_OAR_TYPE_BOI:None'",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Message After A010 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayedExpression": "('S9930/A010/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "S9940",
        "description": "Complete",
        "actions": [
          {
            "name": "A010",
            "description": "Clear RPT_STEP_DESC (Step Description) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/RPT_STEP_DESC.CV'  :=  \"\"\"\";",
            "confirmExpression": "'^/RPT_STEP_DESC.CV'  =  \"\"\"\"",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Phase Alarm, Task Pointer, and First Pass Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          }
        ]
      }
    ],
    "transitions": [
      {
        "name": "END",
        "description": "Phase Complete",
        "position": " {",
        "termination": "T",
        "expression": "('S9940/PENDING_CONFIRMS.CV' = 0)"
      },
      {
        "name": "T0010",
        "description": "First Pass = False, then Goto S0010",
        "position": " {",
        "termination": "F",
        "expression": "('^/P_FIRST_PASS.CV' = FALSE)"
      },
      {
        "name": "T0020",
        "description": "Actions Complete, then Goto S0020",
        "position": " {",
        "termination": "F",
        "expression": "('S0010/PENDING_CONFIRMS.CV' = 0)"
      },
      {
        "name": "T0020A",
        "description": "First Pass = True, then Goto S0100",
        "position": " {",
        "termination": "F",
        "expression": "('^/P_FIRST_PASS.CV' = TRUE)"
      },
      {
        "name": "T0020B",
        "description": "Actions Complete, then Goto S0020",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0030/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0030",
        "description": "Acquire Failed",
        "position": " {",
        "termination": "F",
        "expression": "('S0020/CONFIRM_FAIL.CV' = TRUE)"
      },
      {
        "name": "T0040",
        "description": "Actions Complete, then Goto S0040",
        "position": " {",
        "termination": "F",
        "expression": "('S0020/PENDING_CONFIRMS.CV' = 0) AND\r\n('S0020/CONFIRM_FAIL.CV' = FALSE)"
      },
      {
        "name": "T0050",
        "description": "Actions Complete, then Goto S0050",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0040/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0060",
        "description": "Goto S0060",
        "position": " {",
        "termination": "F",
        "expression": "('S0050/PENDING_CONFIRMS.CV' = 0)"
      },
      {
        "name": "T0100",
        "description": "Task Pointer < 6",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0060/PENDING_CONFIRMS.CV' = 0 )  AND \r\n'^/P_TASK_PTR.CV' < 6"
      },
      {
        "name": "T0120",
        "description": "Actions Complete, then Goto S0120",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0100/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0200",
        "description": "Actions Complete, then Goto S0210",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0240/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0210A",
        "description": "Tare Option available on scale",
        "position": " {",
        "termination": "F",
        "expression": "('S0120/PENDING_CONFIRMS.CV' = 0) AND\r\n('^/R_TARE_REQ.CV' = TRUE) AND \r\n('/SUM_BAL_TARE.IGN' = FALSE)"
      },
      {
        "name": "T0210B",
        "description": "No Tare Option on scale",
        "position": " {",
        "termination": "F",
        "expression": "('S0120/PENDING_CONFIRMS.CV' = 0) AND\r\n('^/R_TARE_REQ.CV' = TRUE) AND\r\n('/SUM_BAL_TARE.IGN' = TRUE)"
      },
      {
        "name": "T0220A",
        "description": "Actions Complete, Continue",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0210A/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0220B",
        "description": "Actions Complete, Continue",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0210B/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0230",
        "description": "Actions Complete, then Goto S0230",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0120/PENDING_CONFIRMS.CV' = 0 ) AND\r\n'^/R_TARE_REQ.CV' = FALSE"
      },
      {
        "name": "T0230A",
        "description": "Actions Complete, continue",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0220A/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0230B",
        "description": "Actions Complete, Continue",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0220B/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0240",
        "description": "Actions Complete, then Goto S0240",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0230/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0310",
        "description": "Actions Complete and Prompt Response = Ok, then Goto S0310",
        "position": " {",
        "termination": "F",
        "expression": "'S0300/PENDING_CONFIRMS.CV' = 0"
      },
      {
        "name": "T0310A",
        "description": "Task Pointer >=6",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0060/PENDING_CONFIRMS.CV' = 0 ) AND \r\n'^/P_TASK_PTR.CV' >= 6"
      },
      {
        "name": "T0315",
        "description": "Actions Complete and Prompt Response = Ok, then Goto S0315",
        "position": " {",
        "termination": "F",
        "expression": "'S0310/PENDING_CONFIRMS.CV' = 0"
      },
      {
        "name": "T0320",
        "description": "Actions Complete, then Goto S0120",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0315/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0330",
        "description": "Actions Complete and Prompt Response = Ok, then Goto S0330",
        "position": " {",
        "termination": "F",
        "expression": "'S0320/PENDING_CONFIRMS.CV' = 0"
      },
      {
        "name": "T0340",
        "description": "Actions Complete, then Goto S0600",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0330/PENDING_CONFIRMS.CV' = 0 ) AND \r\n'^/R_MANUAL_ADD_REQ.CV'  = '_YES_NO:YES'"
      },
      {
        "name": "T0350",
        "description": "Actions Complete, then Goto S0500",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0330/PENDING_CONFIRMS.CV' = 0 ) AND \r\n'^/R_MANUAL_ADD_REQ.CV'  = '_YES_NO:NO'"
      },
      {
        "name": "T0360A",
        "description": "Actions Complete, then Goto S0600",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0340/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0360B",
        "description": "Wait for Target weight x factor is reached, then Goto S0360",
        "position": " {",
        "termination": "F",
        "expression": "'//#SUM_WGT_PATH#' >= (('^/R_WGT.CV' * '^/R_WGT_FACTOR.CV') - '^/R_WT_PREACT.CV') OR\r\n('/SUM_WGT_PATH.IGN' = TRUE);"
      },
      {
        "name": "T0370",
        "description": "Actions Complete, then Goto S0370",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0360/PENDING_CONFIRMS.CV' = 0 ) AND\r\n('S0360/TIME.CV' > 10)"
      },
      {
        "name": "T0380",
        "description": "Actions Complete, then Goto S0380",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0370/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T0390",
        "description": "Task Pointer = 8, then Goto S0390",
        "position": " {",
        "termination": "F",
        "expression": "'^/P_TASK_PTR.CV' = 8"
      },
      {
        "name": "T0400",
        "description": "Task Pointer = 9, then Goto S0400",
        "position": " {",
        "termination": "F",
        "expression": "'^/P_TASK_PTR.CV' = 9"
      },
      {
        "name": "T0410B",
        "description": "Actions Complete and Prompt Response = Ok, then Goto S0410",
        "position": " {",
        "termination": "F",
        "expression": "'S0400/PENDING_CONFIRMS.CV' = 0 AND\r\n'^/FAIL_MONITOR/OAR/INPUT.CV' = 1"
      },
      {
        "name": "T9900",
        "description": "Actions Complete and Prompt Response = Ok, then Goto S9900",
        "position": " {",
        "termination": "F",
        "expression": "'S0410/PENDING_CONFIRMS.CV' = 0"
      },
      {
        "name": "T9910",
        "description": "Actions Complete Goto S9910",
        "position": " {",
        "termination": "F",
        "expression": "('S9900/PENDING_CONFIRMS.CV' = 0)"
      },
      {
        "name": "T9920",
        "description": "Actions Complete, then Goto S9920",
        "position": " {",
        "termination": "F",
        "expression": "( 'S9910/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T9920A",
        "description": "Actions Complete, then Gogo S9920",
        "position": " {",
        "termination": "F",
        "expression": "( 'S9930/PENDING_CONFIRMS.CV' = 0 )"
      },
      {
        "name": "T9930",
        "description": "Failed to Confirm, then Goto S9930",
        "position": " {",
        "termination": "F",
        "expression": "( 'S9920/CONFIRM_FAIL.CV' = TRUE)"
      },
      {
        "name": "T9940",
        "description": "Actions Complete and Confirmed, then Goto S9940",
        "position": " {",
        "termination": "F",
        "expression": "( 'S9920/PENDING_CONFIRMS.CV' = 0)  AND  ('S9920/CONFIRM_FAIL.CV' = FALSE)"
      }
    ]
  },
  "holdLogic": {
    "steps": [
      {
        "name": "H0010",
        "description": "Common Hold Start",
        "actions": []
      },
      {
        "name": "H0020",
        "description": "Set Hold Message",
        "actions": [
          {
            "name": "A010",
            "description": "Set Hold Flag,Clear Waituntils,Display Message, Disable Hold Monitor, Disable Sentinel Monitor",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n=====================================================================================\r\nClear Cancel Wait\r\nDisplay Failure Message\r\nStore Failure Message in Report Parameter\r\nSet Hold Flag\r\n=====================================================================================\r\n*)\r\n'^/P_CANCEL_WAIT.CV' := '_CANCEL_WAIT:Reset';\r\nIF\r\n    (('^/FAIL_INDEX.CV' > 0) AND\r\n     ('^/FAIL_INDEX.CV' != 'phase_failures:Operator Unit Hold') AND\r\n     ('^/FAIL_INDEX.CV' != 'phase_failures:Operator Phase Hold'))\r\nTHEN\r\n    '^/P_MSG1.CV' := \"\"Holding because of Failure -- \"\" + '^/FAIL_INDEX.CVS';\r\n    IF\r\n        ('^/FAIL_INDEX.CV' = 'phase_failures:Fail Monitor Failure')\r\n    THEN\r\n        '^/P_MSG2.CV' := '^/FAIL_MONITOR/FAILURE_SAVE.CV';\r\n    ELSE\r\n        '^/P_MSG2.CV' := \"\"\"\";\r\n        '^/FAIL_MONITOR/FAILURE_SAVE.CV' := '^/FAIL_INDEX.CVS';\r\n    ENDIF;\r\n    '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:FAILURE';\r\nELSE\r\n    '^/P_MSG1.CV' := \"\"Holding due to Operator Request\"\";\r\n    '^/P_MSG2.CV' := \"\"\"\";\r\n    '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\n    IF\r\n        (('^/FAIL_INDEX.CV' > 0) AND ('//#THISUNIT#/NUMPHASES.CV' > 1))\r\n    THEN\r\n        '^/P_MSG1.CV' := '^/P_MSG1.CV' + \"\" or Parallel Phase Failure\"\";\r\n    ELSE\r\n        '^/P_MSG1.CV' := '^/P_MSG1.CV' + \"\" or Batch Failure\"\";\r\n    ENDIF;\r\n    '^/P_HOLD.CV' := FALSE;\r\nENDIF;\r\n'^/RPT_REPORT.CV' := '^/P_MSG1.CV' + '^/P_MSG2.CV';\r\n'//#THISUNIT#/U_HOLD.CV' := TRUE;\r\n(*\r\n-------------------------------------------------------------------------------------\r\nDisable all Hold Monitor Conditions\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/FAIL_MONITOR/HM_01.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_02.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_03.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_04.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_05.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_06.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_07.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_08.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_09.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_10.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_11.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_12.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_13.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_14.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_15.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_16.CV' := FALSE;\r\n(*\r\n-------------------------------------------------------------------------------------\r\nDisable all Sentinel Monitor Conditions\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/FAIL_MONITOR/SM_01.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_02.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_03.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_04.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_05.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_06.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_07.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_08.CV' := FALSE;\r\n\r\n(*\r\n-------------------------------------------------------------------------------------\r\nSet P_TRANS Value to Default\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/P_TRANS.CV' := 255;\r\n'^/P_TIME_SAVE.CV' := 'H0020/TIME.CV';\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "confirmExpression": "(('/+/REQUEST.CV' = 0) OR\r\n ('/+/FAIL_INDEX.CV' = 'phase_failures:PLM Watchdog Failed') OR\r\n ('H0020/TIME.CV' >= ('^/P_TIME_SAVE.CV' + '^/P_HOLD_TMOUT.CV')));",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Reset OAR After A010 is Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n=====================================================================================\r\nRESET OAR Composite\r\n=====================================================================================\r\n*)\r\n'^/FAIL_MONITOR/OAR/TYPE.CV' := '_OAR_TYPE_BOI:Reset';\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "1",
            "delayedExpression": "('H0020/A010/STATE.CV' = '$sfc_action_states:Complete')"
          },
          {
            "name": "A030",
            "description": "WFI POU Request Stop",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#WFI_EM#/TP004_VALUE' := 'S-EM-WFI-RQST:WFI Stop';\r\n\r\n(*\r\n=====================================================================================\r\nDisable WFI EM Hold Monitor\r\n=====================================================================================\r\n*)\r\n\r\n'^/FAIL_MONITOR/HM_06.CV' := FALSE;",
            "confirmExpression": "'//#WFI_EM#/PV_D' = \"\"WFI Stop\"\"",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A040",
            "description": "Set WFI_VLV(WFI Addition Valve ) Mode to CAS",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#WFI_VLV#/REQ_MODE.TARGET' := CAS;",
            "confirmExpression": "('//#WFI_VLV#/MODE.ACTUAL' = CAS) OR\r\n('//#WFI_VLV#/MODE.ACTUAL' = LO) OR\r\n('/WFI_VLV.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A050",
            "description": "Close WFI_VLV(WFI Addition Valve)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#WFI_VLV#/REQ_SP.CV' := '_EDC_VLV_SP:CLOSE';",
            "confirmExpression": "('//#WFI_VLV#/PV_D.CV' = '_EDC_VLV_PV:CLOSED')OR\r\n('/WFI_VLV.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayedExpression": "('H0020/A040/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      },
      {
        "name": "H9800",
        "description": "Enable Hold Req",
        "actions": [
          {
            "name": "A010",
            "description": "If Acquired, Enable Hold Request for AGIT_EM (Agitator EM) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n'//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n'//#AGIT_EM#/HOLD_REQ.CV' := TRUE;\r\nENDIF;",
            "confirmExpression": "(( '//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV') AND\r\n('//#AGIT_EM#/HOLD_REQ.CV' = TRUE)) OR\r\n('/AGIT_EM.IGN' = TRUE) OR \r\n('//#AGIT_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "If Acquired, Enable Hold Request for WFI_EM (WFI EM)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n'//#WFI_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n'//#WFI_EM#/HOLD_REQ.CV' := TRUE;\r\nENDIF;",
            "confirmExpression": "(( '//#WFI_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV') AND\r\n('//#WFI_EM#/HOLD_REQ.CV' = TRUE)) OR\r\n('/WFI_EM.IGN' = TRUE) OR \r\n('//#WFI_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "If Acquired, Enable Hold Request for WFI_VLV (WFI Addition Valve) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n'//#WFI_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n'//#WFI_VLV#/HOLD_REQ.CV' := TRUE;\r\nENDIF;",
            "confirmExpression": "(( '//#WFI_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV') AND\r\n('//#WFI_VLV#/HOLD_REQ.CV' = TRUE)) OR\r\n('/WFI_VLV.IGN' = TRUE) OR \r\n('//#WFI_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A040",
            "description": "If Acquired, Enable Hold Request for DRN_VLV (WFI Drain Valve) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n'//#DRN_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n'//#DRN_VLV#/HOLD_REQ.CV' := TRUE;\r\nENDIF;",
            "confirmExpression": "(( '//#DRN_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV') AND\r\n('//#DRN_VLV#/HOLD_REQ.CV' = TRUE)) OR\r\n('/DRN_VLV.IGN' = TRUE) OR \r\n('//#DRN_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "H9900",
        "description": "Hold End",
        "actions": [
          {
            "name": "A010",
            "description": "Upload Report Values",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG2.CV' := '^/FAIL_MONITOR/FAILURE_SAVE.CV';\r\nIF\r\n    (('^/FAIL_INDEX.CV' > 0) AND\r\n     ('^/FAIL_INDEX.CV' != 'phase_failures:Operator Unit Hold') AND\r\n     ('^/FAIL_INDEX.CV' != 'phase_failures:Operator Phase Hold'))\r\nTHEN\r\n    '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:FAILURE';\r\nELSE\r\n    '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\nENDIF;\r\n(*\r\n=====================================================================================\r\nUpdate and Upload Report Values\r\n=====================================================================================\r\n*)\r\n'^/RPT_REPORT.CV' := '^/RPT_REPORT.CV' + \"\" \"\" + '^/P_MSG2.CV';\r\nIF\r\n    ('/+/BSTATUS.CV' = '$phase_state:Holding')AND\r\n    ('/+/FAIL_INDEX.CV' != 'phase_failures:PLM Watchdog Failed') AND\r\n    ('/+/OWNER.CV' = '$phase_owner_id:DeltaV Batch')\r\nTHEN\r\n    '^/REQUEST.CV' := 2000;\r\nENDIF;\r\n(*\r\n-------------------------------------------------------------------------------------\r\nSet Scratch Time\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/P_TIME_SAVE.CV' := 'H9900/TIME.CV';\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "confirmExpression": "(('^/REQUEST.CV' = 0) OR\r\n ('H9900/TIME.CV' >= ('^/P_TIME_SAVE.CV' + '^/P_HOLD_TMOUT.CV')))",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Hold Logic Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n=====================================================================================\r\nComplete Hold Logic\r\n=====================================================================================\r\n*)\r\n'/U_HOLD.CV' := FALSE;\r\n(*\r\n-------------------------------------------------------------------------------------\r\nClear FAILURE Parameter\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/FAIL_MONITOR/FAILURE.CV' := \"\"\"\";\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "confirmExpression": "'/U_HOLD.CV' = FALSE;",
            "confirmTimeOut": "0",
            "delayedExpression": "('H9900/A010/STATE.CV' = '$sfc_action_states:Complete')"
          }
        ]
      }
    ],
    "transitions": [
      {
        "name": "HOLD_END",
        "description": "Phase Holding then Hold Complete",
        "position": " {",
        "termination": "T",
        "expression": "(('H9900/PENDING_CONFIRMS.CV' = 0) AND\r\n ('/+/BSTATUS.CV' = '$phase_state:Holding'))"
      },
      {
        "name": "T0020",
        "description": "Goto H0020",
        "position": " {",
        "termination": "F",
        "expression": "TRUE"
      },
      {
        "name": "T0100",
        "description": "Previous Actions Complete or H0020/ Step Time >= P_HOLD_TMOUT (Hold Step Time Limit), then Goto H0100",
        "position": " {",
        "termination": "F",
        "expression": "( 'H0020/PENDING_CONFIRMS.CV' = 0 ) OR ( 'H0020/TIME.CV'  >= '^/P_HOLD_TMOUT.CV' )"
      },
      {
        "name": "T9900",
        "description": "Previous Actions Complete or H0040/ Step Time >= P_HOLD_TMOUT (Hold Step Time Limit), then Goto H9900",
        "position": " {",
        "termination": "F",
        "expression": "( 'H9800/PENDING_CONFIRMS.CV' = 0 ) OR ( 'H9800/TIME.CV'  >= '^/P_HOLD_TMOUT.CV' )"
      }
    ]
  },
  "abortLogic": {
    "steps": [
      {
        "name": "A0000",
        "description": "Common Abort",
        "actions": []
      },
      {
        "name": "A0010",
        "description": "Start",
        "actions": [
          {
            "name": "A010",
            "description": "Display Message and Clear Task Pointer and First Pass Flag",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n=====================================================================================\r\nDisplay Messages\r\n=====================================================================================\r\n*)\r\n'^/P_MSG1.CV' := \"\"Aborting phase logic\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\n(*\r\n-------------------------------------------------------------------------------------\r\nClear Task Pointer and First Pass Flag\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/P_TASK_PTR.CV' := 0;\r\n'^/P_FIRST_PASS.CV' := FALSE;\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "A0020",
        "description": "Reset From Hold",
        "actions": [
          {
            "name": "A010",
            "description": "Reset Hold Request for AGIT_EM (Agit EM) ",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n    '//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' OR\r\n    '//#AGIT_EM#/OWNER_ID.CV' = \"\"(None)\"\"\r\nTHEN\r\n    '//#AGIT_EM#/HOLD_REQ.CV' := FALSE;\r\nENDIF;",
            "confirmExpression": "((( '//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV')  OR \r\n( '//#AGIT_EM#/OWNER_ID.CV' = \"\"(None)\"\" )) AND\r\n('//#AGIT_EM#/HOLD_REQ.CV' = FALSE)) OR\r\n('/AGIT_EM.IGN' = TRUE)OR \r\n('//#AGIT_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Reset Hold Request for WFI_EM (WFI EM)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n    '//#WFI_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' OR\r\n    '//#WFI_EM#/OWNER_ID.CV' = \"\"(None)\"\"\r\nTHEN\r\n    '//#WFI_EM#/HOLD_REQ.CV' := FALSE;\r\nENDIF;",
            "confirmExpression": "((( '//#WFI_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV')  OR \r\n( '//#WFI_EM#/OWNER_ID.CV' = \"\"(None)\"\" )) AND\r\n('//#WFI_EM#/HOLD_REQ.CV' = FALSE)) OR\r\n('/WFI_EM.IGN' = TRUE)OR \r\n('//#WFI_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Reset Hold Request for WFI_VLV (WFI Addition Valve)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n    '//#WFI_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' OR\r\n    '//#WFI_VLV#/OWNER_ID.CV' = \"\"(None)\"\"\r\nTHEN\r\n    '//#WFI_VLV#/HOLD_REQ.CV' := FALSE;\r\nENDIF;",
            "confirmExpression": "((( '//#WFI_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV')  OR \r\n( '//#WFI_VLV#/OWNER_ID.CV' = \"\"(None)\"\" )) AND\r\n('//#WFI_VLV#/HOLD_REQ.CV' = FALSE)) OR\r\n('/WFI_VLV.IGN' = TRUE)OR \r\n('//#WFI_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A040",
            "description": "Reset Hold Request for DRN_VLV (WFI Drain Valve)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n    '//#DRN_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV' OR\r\n    '//#DRN_VLV#/OWNER_ID.CV' = \"\"(None)\"\"\r\nTHEN\r\n    '//#DRN_VLV#/HOLD_REQ.CV' := FALSE;\r\nENDIF;",
            "confirmExpression": "((( '//#DRN_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV')  OR \r\n( '//#DRN_VLV#/OWNER_ID.CV' = \"\"(None)\"\" )) AND\r\n('//#DRN_VLV#/HOLD_REQ.CV' = FALSE)) OR\r\n('/DRN_VLV.IGN' = TRUE)OR \r\n('//#DRN_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')",
            "confirmTimeOut": "0",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "A0030",
        "description": "Disable HM & SM",
        "actions": [
          {
            "name": "A010",
            "description": "Disable Hold Monitors",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n-------------------------------------------------------------------------------------\r\nDisable all Hold Monitor Conditions\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/FAIL_MONITOR/HM_01.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_02.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_03.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_04.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_05.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_06.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_07.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_08.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_09.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_10.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_11.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_12.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_13.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_14.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_15.CV' := FALSE;\r\n'^/FAIL_MONITOR/HM_16.CV' := FALSE;",
            "confirmExpression": "'^/FAIL_MONITOR/HM_01.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_02.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_03.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_04.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_05.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_06.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_07.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_08.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_09.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_10.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_11.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_12.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_13.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_14.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_15.CV' = FALSE AND\r\n'^/FAIL_MONITOR/HM_16.CV' = FALSE;",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "Disable Sentinel Monitors",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n-------------------------------------------------------------------------------------\r\nDisable all Sentinel Monitor Conditions\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/FAIL_MONITOR/SM_01.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_02.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_03.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_04.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_05.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_06.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_07.CV' := FALSE;\r\n'^/FAIL_MONITOR/SM_08.CV' := FALSE;",
            "confirmExpression": "'^/FAIL_MONITOR/SM_01.CV' = FALSE AND\r\n'^/FAIL_MONITOR/SM_02.CV' = FALSE AND\r\n'^/FAIL_MONITOR/SM_03.CV' = FALSE AND\r\n'^/FAIL_MONITOR/SM_04.CV' = FALSE AND\r\n'^/FAIL_MONITOR/SM_05.CV' = FALSE AND\r\n'^/FAIL_MONITOR/SM_06.CV' = FALSE AND\r\n'^/FAIL_MONITOR/SM_07.CV' = FALSE AND\r\n'^/FAIL_MONITOR/SM_08.CV' = FALSE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "A0040",
        "description": "Devi. to Safe State",
        "actions": [
          {
            "name": "A010",
            "description": "If Acquired, Set AGIT_EM (Agitator EM) to Off",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n '//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n    '//#AGIT_EM#/A_COMMAND.CV' := 'S_EM_AGIT_CTRL:Off';\r\nENDIF;",
            "confirmExpression": "(( '//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV') AND\r\n('//#AGIT_EM#/A_PV.CV' = 'S_EM_AGIT_CTRL:Off')) OR\r\n('/AGIT_EM.IGN' = TRUE) OR\r\n('//#AGIT_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV');",
            "confirmTimeOut": "0",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "A0050",
        "description": "Disable Alarms",
        "actions": [
          {
            "name": "A010",
            "description": "Disable AGIT_SUM (Agitator Sensor) High High Alarm",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#AGIT_SUM#/HI_HI_ALM.ENAB' := FALSE;",
            "confirmExpression": "('//#AGIT_SUM#/HI_HI_ALM.ENAB' = FALSE) OR\r\n('/AGIT_SUM.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "Disable SUM_TEMP (Temperature Sensor) High High Alarm",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'//#SUM_TEMP#/HI_HI_ALM.ENAB' := FALSE;",
            "confirmExpression": "('//#SUM_TEMP#/HI_HI_ALM.ENAB' = FALSE) OR\r\n('/SUM_TEMP.IGN' = TRUE);",
            "confirmTimeOut": "0",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "A9800",
        "description": "Up.All Rpt. Param.",
        "actions": [
          {
            "name": "A010",
            "description": "Upload Request",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/REQUEST.CV' := 2000;",
            "confirmExpression": "'^/REQUEST.CV' = 0",
            "confirmTimeOut": "0",
            "delayedExpression": "REM REQUEST Parameter is Clear \r\n'^/REQUEST.CV' = 0;"
          }
        ]
      },
      {
        "name": "A9900",
        "description": "Common Abort End",
        "actions": [
          {
            "name": "A0010",
            "description": "Set Message: Abort Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"Abort Complete\"\";\r\n '^/P_MSG2.CV' := \"\"\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';",
            "delayTime": "0"
          },
          {
            "name": "A0020",
            "description": "Abort Logic Complete",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n=====================================================================================\r\nComplete Abort Logic\r\n=====================================================================================\r\n*)\r\n'//#THISUNIT#/U_HOLD.CV' := FALSE;\r\n(*\r\n-------------------------------------------------------------------------------------\r\nClear FAILURE Parameter\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/FAIL_MONITOR/FAILURE.CV' := \"\"\"\";\r\n(*\r\n-------------------------------------------------------------------------------------\r\nSet P_PHASE_HELD\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'/+/P_PHASE_HELD.CV' := TRUE;\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Failure and Phase Alarm",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n=====================================================================================\r\nClear Failure if under External Control\r\n=====================================================================================\r\n*)\r\nIF\r\n    ('/+/OWNER.CV' = '$phase_owner_id:External') \r\nTHEN\r\n    '/+/XCOMMAND.CV' := '$phase_command:Clear Failures';\r\nENDIF;\r\n(*\r\n-------------------------------------------------------------------------------------\r\nClear Phase Alarm\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'/ALARMS.MACK' := 1;\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "S0100",
        "description": "Release",
        "actions": [
          {
            "name": "A010",
            "description": "If Acquired, Release AGIT_EM (Agitator EM)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n '//#AGIT_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n '//#AGIT_EM#/OWNER_ID.CV' := \"\"(None)\"\"\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S0100/TIME.CV';",
            "confirmExpression": "('//#AGIT_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')OR\r\n('/AGIT_EM.IGN' = TRUE)",
            "delayTime": "0"
          },
          {
            "name": "A020",
            "description": "If Acquired, Release WFI_EM (Equipment Module)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n '//#WFI_EM#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n '//#WFI_EM#/OWNER_ID.CV' := \"\"(None)\"\"\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S0100/TIME.CV';",
            "confirmExpression": "('//#WFI_EM#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')OR\r\n('/WFI_EM.IGN' = TRUE)",
            "delayTime": "0"
          },
          {
            "name": "A030",
            "description": "If Acquired, Release WFI_VLV (WFI Addition Valve)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n '//#WFI_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n '//#WFI_VLV#/OWNER_ID.CV' := \"\"(None)\"\"\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S0100/TIME.CV';",
            "confirmExpression": "('//#WFI_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')OR\r\n('/WFI_VLV.IGN' = TRUE)",
            "delayTime": "0"
          },
          {
            "name": "A040",
            "description": "If Acquired, Release DRN_VLV (WFI Drain Valve)",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "IF\r\n '//#DRN_VLV#/OWNER_ID.CV' = '//#THISUNIT#/THISUNIT.CV'\r\nTHEN\r\n '//#DRN_VLV#/OWNER_ID.CV' := \"\"(None)\"\"\r\nENDIF;\r\n'^/P_TIME_SAVE.CV' := 'S0100/TIME.CV';",
            "confirmExpression": "('//#DRN_VLV#/OWNER_ID.CV' != '//#THISUNIT#/THISUNIT.CV')OR\r\n('/DRN_VLV.IGN' = TRUE)",
            "delayTime": "0"
          }
        ]
      }
    ],
    "transitions": [
      {
        "name": "ABORT_END",
        "description": "Abort Complete",
        "position": " {",
        "termination": "T",
        "expression": "('A9900/PENDING_CONFIRMS.CV' = 0)"
      },
      {
        "name": "T0010",
        "description": "Goto A0010",
        "position": " {",
        "termination": "F",
        "expression": "TRUE"
      },
      {
        "name": "T0020",
        "description": "Goto A0020",
        "position": " {",
        "termination": "F",
        "expression": "('A0010/PENDING_CONFIRMS.CV' = 0)"
      },
      {
        "name": "T0030",
        "description": "Previous Actions Complete or A0020/ Step Time > P_ABORT_TMOUT (Abort Step Time Limit), then Goto A0030",
        "position": " {",
        "termination": "F",
        "expression": "( 'A0020/PENDING_CONFIRMS.CV' = 0 ) OR ( 'A0020/TIME.CV'  > '^/P_ABORT_TMOUT.CV' )"
      },
      {
        "name": "T0040",
        "description": "Previous Actions Complete or A0030/ Step Time > P_ABORT_TMOUT (Abort Step Time Limit), then Goto A0040",
        "position": " {",
        "termination": "F",
        "expression": "( 'A0030/PENDING_CONFIRMS.CV' = 0 ) OR ( 'A0030/TIME.CV'  > '^/P_ABORT_TMOUT.CV' )"
      },
      {
        "name": "T0050",
        "description": "Previous Actions Complete or A0040/ Step Time > P_ABORT_TMOUT (Abort Step Time Limit), then Goto A0050",
        "position": " {",
        "termination": "F",
        "expression": "( 'A0040/PENDING_CONFIRMS.CV' = 0 ) OR ( 'A0040/TIME.CV'  > '^/P_ABORT_TMOUT.CV' )"
      },
      {
        "name": "T0100",
        "description": "Previous Actions Complete or A0050/ Step Time > P_ABORT_TMOUT (Abort Step Time Limit), then Goto A0100",
        "position": " {",
        "termination": "F",
        "expression": "( 'A0050/PENDING_CONFIRMS.CV' = 0 ) OR ( 'A0050/TIME.CV'  > '^/P_ABORT_TMOUT.CV' )"
      },
      {
        "name": "T9800",
        "description": "Previous Actions Complete or A0100/ Step Time > P_ABORT_TMOUT (Abort Step Time Limit), then Goto A9800",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0100/PENDING_CONFIRMS.CV' = 0 ) OR ( 'S0100/TIME.CV'  > '^/P_ABORT_TMOUT.CV' )"
      },
      {
        "name": "T9900",
        "description": "Previous Actions Complete or A9800/ Step Time > P_ABORT_TMOUT (Abort Step Time Limit), then Goto A9900",
        "position": " {",
        "termination": "F",
        "expression": "( 'A9800/PENDING_CONFIRMS.CV' = 0 ) OR ( 'A9800/TIME.CV'  > '^/P_ABORT_TMOUT.CV' )"
      }
    ]
  },
  "restartLogic": {
    "steps": [
      {
        "name": "S0000",
        "description": "Restart",
        "actions": [
          {
            "name": "A0010",
            "description": "Display message",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n=====================================================================================\r\nDisplay Message\r\n=====================================================================================\r\n*)\r\n\r\nIF\r\n    ('/+/BSTATUS.CV' = '$phase_state:Stopping') \r\nTHEN\r\n\t'^/P_MSG1.CV' := \"\"Stopping phase logic\"\";\r\nELSE\r\n\t'^/P_MSG1.CV' := \"\"Restarting phase logic\"\";\r\nENDIF;\r\n\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\n\r\n(*\r\n===========================================================\r\nEnd of Code\r\n===========================================================\r\n*)",
            "confirmExpression": "TRUE",
            "confirmTimeOut": "0",
            "delayTime": "0"
          },
          {
            "name": "A0020",
            "description": "Set Restart Type",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n=====================================================================================\r\nClear Failure Description \r\n=====================================================================================\r\n*)\r\n'^/FAIL_MONITOR/FAILURE_SAVE.CV' := \"\"\"\";\r\n(*\r\n=====================================================================================\r\nSet Restart Type to From Start\r\n=====================================================================================\r\n*)\r\n'/+/RESTART_TYPE.CV' := '$phase_restart_types:From Start'; \r\n(*\r\n-------------------------------------------------------------------------------------\r\nClear L_REPORT\r\n-------------------------------------------------------------------------------------\r\n*) \r\n'^/RPT_REPORT.CV' := \"\"\"\"; \r\n(*\r\n====================================================================================\r\nEnd of Code\r\n====================================================================================\r\n*)",
            "confirmExpression": "'/+/RESTART_TYPE.CV' = '$phase_restart_types:From Start';",
            "confirmTimeOut": "0",
            "delayTime": "0"
          }
        ]
      }
    ],
    "transitions": [
      {
        "name": "END",
        "description": "Stop/Restart Complete",
        "position": " {",
        "termination": "T",
        "expression": "('S0000/PENDING_CONFIRMS.CV' = 0)"
      }
    ]
  },
  "stopLogic": {
    "steps": [
      {
        "name": "S0000",
        "description": "Stop",
        "actions": [
          {
            "name": "A010",
            "description": "Display Message and Clear Task Pointer and First Pass Flag",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n=====================================================================================\r\nDisplay Messages\r\n=====================================================================================\r\n*)\r\n'^/P_MSG1.CV' := \"\"Aborting phase logic\"\";\r\n'^/P_MSG2.CV' := \"\"\"\";\r\n'^/P_MSG_TYPE1.CV' := '_MSG_TYPE:INFO';\r\n(*\r\n-------------------------------------------------------------------------------------\r\nClear Task Pointer and First Pass Flag\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'^/P_TASK_PTR.CV' := 0;\r\n'^/P_FIRST_PASS.CV' := FALSE;\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "delayTime": "0"
          }
        ]
      },
      {
        "name": "S9900",
        "description": "Common Stop End",
        "actions": [
          {
            "name": "A010",
            "description": "Set Message: STOP is not a command valid",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "'^/P_MSG1.CV' := \"\"STOP is not a command valid\"\";\r\n '^/P_MSG2.CV' := \"\"Abort Phase\"\";\r\n '^/P_MSG_TYPE1.CV' := '_MSG_TYPE:FAILURE';",
            "delayTime": "0"
          },
          {
            "name": "EXIT",
            "description": "Clear Failure and Phase Alarm",
            "actionType": "ASSIGN",
            "qualifier": "P",
            "expression": "(*\r\n=====================================================================================\r\nClear Failure if under External Control\r\n=====================================================================================\r\n*)\r\nIF\r\n    ('/+/OWNER.CV' = '$phase_owner_id:External') \r\nTHEN\r\n    '/+/XCOMMAND.CV' := '$phase_command:Clear Failures';\r\nENDIF;\r\n(*\r\n-------------------------------------------------------------------------------------\r\nClear Phase Alarm\r\n-------------------------------------------------------------------------------------\r\n*)\r\n'/ALARMS.MACK' := 1;\r\n(*\r\n=====================================================================================\r\nEnd of Code\r\n=====================================================================================\r\n*)",
            "delayTime": "0"
          }
        ]
      }
    ],
    "transitions": [
      {
        "name": "STOP_END",
        "description": "Stop Complete",
        "position": " {",
        "termination": "T",
        "expression": "FALSE"
      },
      {
        "name": "T9900",
        "description": "Previous Actions Complete or S0000/ Step Time > P_ABORT_TMOUT (Abort Step Time Limit), then Goto S9900",
        "position": " {",
        "termination": "F",
        "expression": "( 'S0000/PENDING_CONFIRMS.CV' = 0 ) OR ( 'S0000/TIME.CV'  > '^/P_ABORT_TMOUT.CV' )"
      }
    ]
  }
}